{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import Animate from '../dist/animate.custom.css';\nimport Styles from '../dist/styles.css';\n\nexport class StepWizard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState();\n  }\n  animateSteps(change) {\n    let active = this.state.step;\n    let next = this.state.step + change;\n    // console.log(change, active, next);\n    let styles = this.props.transitions || {\n      enterRight: Animate.animated+' '+Animate.fadeInRight,\n      enterLeft : Animate.animated+' '+Animate.fadeInLeft,\n      exitRight : Animate.animated+' '+Animate.fadeOutRight,\n      exitLeft  : Animate.animated+' '+Animate.fadeOutLeft\n    }\n    let classes = this.state.classes;\n    if(active < next) {\n      // slide left\n      classes[active] = Styles.hide+' '+styles.exitLeft,\n      classes[next] = styles.enterRight\n    } else {\n      // slide right\n      classes[active] = Styles.hide+' '+styles.exitRight,\n      classes[next] = styles.enterLeft\n    }\n    this.setState(classes);\n  }\n  firstStep() {\n    this.goToStep(1);\n  }\n  goToStep(step) {\n    step--;\n    let current = this.state.step;\n    let change = (step - current);\n    let action = (change > 0) ? this.nextStep.bind(this) : this.previousStep.bind(this);\n    // console.log(current, step, change, Math.abs(change));\n    let pause = 0;\n    for(let i = 0; i < Math.abs(change); i++) {\n      setTimeout(function(){\n        action();\n      },pause);\n      pause += 5;\n    }\n  }\n  initialState() {\n    let state = {\n      step: 0, classes: {}\n    }\n\n    // Set initial classes\n    for(let i = 0; i < this.props.children.length; i++) {\n      if(this.props.children[i].props.active) {\n        state.step = i;\n        continue;\n      }\n      state.classes[i] = Styles.hide;\n    }\n    state.classes[state.step] = Styles.active;\n\n    return state;\n  }\n  lastStep() {\n    this.goToStep(this.props.children.length);\n  }\n  nextStep() {\n    this.animateSteps(1);\n    this.setState({ step: this.state.step + 1 },() => {\n      this.updateHash();\n    });\n  }\n  previousStep() {\n    this.animateSteps(-1);\n    this.setState({ step: this.state.step - 1 },() => {\n      this.updateHash();\n    });\n  }\n  updateHash() {\n    // window.location.hash = 'step'+this.state.step;\n  }\n  render() {\n    let props = {\n      currentStep: this.state.step + 1,\n      totalSteps: this.props.children.length,\n\n      nextStep: this.nextStep.bind(this),\n      previousStep: this.previousStep.bind(this),\n      goToStep: this.goToStep.bind(this),\n      firstStep: this.firstStep.bind(this),\n      lastStep: this.lastStep.bind(this),\n    }\n    let classes = this.state.classes;\n\n    var childrenWithProps = React.Children.map(this.props.children, (child, i) => {\n        props.animate = classes[i];\n        return React.cloneElement(child, props);\n    });\n\n    return (\n      <div className={Styles['step-wizard']}>\n        {childrenWithProps}\n      </div>\n    );\n  }\n}\n\nexport class Step extends React.Component {\n  render() {\n    let content = React.cloneElement(this.props.children, this.props);\n    return (\n      <div className={Styles.step+' '+this.props.animate}>\n        {content}\n      </div>\n    );\n  }\n}"]}