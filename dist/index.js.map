{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import animate from 'animate.css';\nimport Styles from './styles.css';\n\nexport class StepWizard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.initialState();\n  }\n  animateSteps(change) {\n    let active = this.state.step;\n    let next = this.state.step + change;\n    // console.log(change, active, next);\n    let styles = this.props.transitions || {\n      enterRight: animate.animated+' '+animate.fadeInRight,\n      enterLeft : animate.animated+' '+animate.fadeInLeft,\n      exitRight : animate.animated+' '+animate.fadeOutRight,\n      exitLeft  : animate.animated+' '+animate.fadeOutLeft\n    }\n    let classes = this.state.classes;\n    if(active < next) {\n      // slide left\n      classes[active] = styles.exitLeft,\n      classes[next] = styles.enterRight\n    } else {\n      // slide right\n      classes[active] = styles.exitRight,\n      classes[next] = styles.enterLeft\n    }\n    this.setState(classes);\n  }\n  firstStep() {\n    this.goToStep(1);\n  }\n  goToStep(step) {\n    step--;\n    let current = this.state.step;\n    let change = (step - current);\n    let action = (change > 0) ? this.nextStep.bind(this) : this.previousStep.bind(this);\n    // console.log(current, step, change, Math.abs(change));\n    let pause = 0;\n    for(let i = 0; i < Math.abs(change); i++) {\n      setTimeout(function(){\n        action();\n      },pause);\n      pause += 5;\n    }\n  }\n  initialState() {\n    let state = {\n      step: 0, classes: {}\n    }\n\n    // Set initial classes\n    for(let i = 0; i < this.props.children.length; i++) {\n      if(this.props.children[i].props.active) {\n        state.step = i;\n        continue;\n      }\n      state.classes[i] = Styles.hide;\n    }\n    state.classes[state.step] = Styles.active;\n\n    return state;\n  }\n  lastStep() {\n    this.goToStep(this.props.children.length);\n  }\n  nextStep() {\n    this.animateSteps(1);\n    this.setState({ step: this.state.step + 1 },() => {\n      this.updateHash();\n    });\n  }\n  previousStep() {\n    this.animateSteps(-1);\n    this.setState({ step: this.state.step - 1 },() => {\n      this.updateHash();\n    });\n  }\n  updateHash() {\n    // window.location.hash = 'step'+this.state.step;\n  }\n  render() {\n    let props = {\n      currentStep: this.state.step + 1,\n      totalSteps: this.props.children.length,\n\n      nextStep: this.nextStep.bind(this),\n      previousStep: this.previousStep.bind(this),\n      goToStep: this.goToStep.bind(this),\n      firstStep: this.firstStep.bind(this),\n      lastStep: this.lastStep.bind(this),\n    }\n    let classes = this.state.classes;\n\n    var childrenWithProps = React.Children.map(this.props.children, (child, i) => {\n        props.animate = classes[i];\n        return React.cloneElement(child, props);\n    });\n\n    return (\n      <div className={Styles['step-wizard']}>\n        {childrenWithProps}\n      </div>\n    );\n  }\n}\n\nexport class Step extends React.Component {\n  render() {\n    let content = React.cloneElement(this.props.children, this.props);\n    return (\n      <div className={Styles.step+' '+this.props.animate}>\n        {content}\n      </div>\n    );\n  }\n}"]}